# Produktadministration - Guide

## Ã–versikt

Den nya **Produktadministrationen** samlar all coaching-data pÃ¥ ett smart sÃ¤tt dÃ¤r du vÃ¤ljer produkt fÃ¶rst och sedan ser/hanterar allt kopplat till just den produkten.

## FÃ¶rdelar med Produktcentrerad Vy

### Tidigare Problem
- MÃ¥ste vÃ¤lja produkt i varje tab (Triggers, Battlecards, InvÃ¤ndningar, etc.)
- Mycket klickande mellan tabs
- SvÃ¥rt att fÃ¥ Ã¶verblick Ã¶ver en produkts totala innehÃ¥ll
- KrÃ¤vde mÃ¥nga steg fÃ¶r att generera innehÃ¥ll fÃ¶r en produkt

### Nya LÃ¶sningen
âœ… **VÃ¤lj produkt en gÃ¥ng** - All data filtreras automatiskt
âœ… **Dashboard med statistik** - Se direkt hur mycket innehÃ¥ll varje produkt har
âœ… **Generera allt pÃ¥ en gÃ¥ng** - En knapp fÃ¶r att skapa all coaching-data
âœ… **Expanderbara sektioner** - Kompakt vy med mÃ¶jlighet att utforska detaljer
âœ… **ProduktÃ¶versikt** - VÃ¤lj mellan dina produkter visuellt

## Hur Man AnvÃ¤nder

### 1. Ã–ppna Produktadministration

1. Klicka pÃ¥ hamburgare-menyn (â˜°)
2. VÃ¤lj **"Hantera coachning"**
3. Du kommer nu till den nya produktcentrerade vyn

### 2. VÃ¤lj Produkt

I toppen ser du alla dina aktiva produkter som kort:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ Produkt 1    â”‚  â”‚   Produkt 2     â”‚  â”‚   Produkt 3     â”‚
â”‚ Beskrivning...  â”‚  â”‚ Beskrivning...  â”‚  â”‚ Beskrivning...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     (vald)
```

- Klicka pÃ¥ ett produktkort fÃ¶r att vÃ¤lja det
- Valt kort visas med blÃ¥ ram
- All data nedan filtreras automatiskt fÃ¶r vald produkt

### 3. Se Statistik-Dashboard

Efter att ha valt produkt ser du en Ã¶versikt:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ã–versikt - AI Sales Coach Pro        [Generera allt AI...]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ Triggers    âš”ï¸  Battlecards   âš ï¸  InvÃ¤ndningar          â”‚
â”‚     5              3                5                      â”‚
â”‚                                                             â”‚
â”‚  ğŸ“– Kundcase    ğŸ’¾ Erbjudanden                             â”‚
â”‚     3              3                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Generera Allt AI-InnehÃ¥ll (Rekommenderat)

**Den smartaste funktionen!**

1. Klicka pÃ¥ **"Generera allt AI-innehÃ¥ll"** (lila knapp med blixt-ikon)
2. Systemet genererar automatiskt:
   - 5 Triggers
   - 3 Battlecards
   - 5 InvÃ¤ndningar
   - 3 Kundcase
   - 3 Erbjudanden
3. Progress visas: "Genererar Triggers..." â†’ "Genererar Battlecards..." etc.
4. NÃ¤r klart fÃ¥r du en bekrÃ¤ftelse: "âœ… Alla 5 typer av coaching-data har genererats!"

**FÃ¶rdelar:**
- Sparar tid - en knapp istÃ¤llet fÃ¶r 5 separata genereringar
- Konsekvent innehÃ¥ll - allt baserat pÃ¥ samma produktdokumentation
- Komplett paket - direkt anvÃ¤ndbart i sÃ¤ljsamtal

### 5. Utforska Genererat InnehÃ¥ll

Varje typ av coaching-data visas som en expanderbar sektion:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ Triggers (5)                                          â–¶  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (klicka fÃ¶r att expandera och se detaljer)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**NÃ¤r expanderad:**
- Se alla items fÃ¶r den typen
- Varje item visar titel, beskrivning och badges
- Redigera-knapp (âœï¸) och radera-knapp (ğŸ—‘ï¸) pÃ¥ varje item

### 6. Hantera Individuella Items

Varje coaching-data item har:
- **Titel** - Huvudnamn/text
- **Beskrivning** - Sammanfattning eller detaljer
- **Badges** - Kategorier, typer, etc.
- **Redigera** - Klicka âœï¸ fÃ¶r att Ã¤ndra
- **Radera** - Klicka ğŸ—‘ï¸ fÃ¶r att ta bort

## AnvÃ¤ndningsscenarier

### Scenario 1: Ny Produkt

**Situation:** Du har precis skapat en ny produkt och laddat upp dokumentation.

**Steg:**
1. Ã–ppna Produktadministration
2. VÃ¤lj din nya produkt
3. Klicka "Generera allt AI-innehÃ¥ll"
4. VÃ¤nta 1-2 minuter
5. âœ… Produkten har nu komplett coaching-data!

**Resultat:** 19 st coaching-items (5+3+5+3+3) genererade och redo att anvÃ¤ndas.

---

### Scenario 2: Uppdatera Befintlig Produkt

**Situation:** Du har uppdaterat produktdokumentation och vill komplettera coaching-data.

**Steg:**
1. VÃ¤lj produkten
2. Se vilka typer som behÃ¶ver mer innehÃ¥ll (statistik-dashboard)
3. GÃ¥ till den gamla CoachingAdminPanel fÃ¶r att generera specifika typer
4. ELLER generera allt pÃ¥ nytt och radera gamla items

---

### Scenario 3: JÃ¤mfÃ¶ra Produkter

**Situation:** Du vill se skillnader i coaching-data mellan produkter.

**Steg:**
1. VÃ¤lj Produkt 1
2. Notera statistik (5 triggers, 3 battlecards, etc.)
3. VÃ¤lj Produkt 2
4. JÃ¤mfÃ¶r statistik
5. Identifiera vilken produkt behÃ¶ver mer innehÃ¥ll

---

### Scenario 4: Snabb Ã–versikt

**Situation:** Du vill snabbt kolla hur mycket innehÃ¥ll varje produkt har.

**Steg:**
1. Ã–ppna Produktadministration
2. Klicka igenom produktkorten
3. Statistik-dashboarden uppdateras direkt
4. FÃ¥ direkt Ã¶verblick utan att expandera sektioner

## Tekniska Detaljer

### Komponenter

**Fil:** `/src/components/ProductAdminPanel.tsx`

**Huvudkomponenter:**
- `ProductAdminPanel` - Huvudkomponent med produktval och dashboard
- `CoachingSection` - Ã…teranvÃ¤ndbar sektion fÃ¶r varje typ av data

**State Management:**
- AnvÃ¤nder `useCoachingStore` frÃ¥n Zustand
- Filtrerar data baserat pÃ¥ `selectedProduct.id`
- HÃ¤mtar produkter direkt frÃ¥n Supabase

### API Calls fÃ¶r "Generera Allt"

NÃ¤r du klickar "Generera allt AI-innehÃ¥ll" kÃ¶rs fÃ¶ljande sekvens:

```typescript
1. POST /api/generate-triggers    (5 st)
2. POST /api/generate-battlecards (3 st)
3. POST /api/generate-objections  (5 st)
4. POST /api/generate-cases       (3 st)
5. POST /api/generate-offers      (3 st)
```

**Total tid:** ~1-2 minuter
**Total kostnad:** ~$0.10-0.15 per kÃ¶rning

### Datafiltrering

Varje typ av coaching-data filtreras med:

```typescript
const productTriggers = triggerPatterns.filter(
  trigger => trigger.productId === selectedProduct.id
);
```

Detta sÃ¤kerstÃ¤ller att du bara ser data fÃ¶r den valda produkten.

## JÃ¤mfÃ¶relse: Gammal vs Ny Vy

| Funktion | Gammal Vy (CoachingAdminPanel) | Ny Vy (ProductAdminPanel) |
|----------|--------------------------------|---------------------------|
| Produktval | En gÃ¥ng per tab (5 gÃ¥nger) | En gÃ¥ng totalt |
| Ã–versikt | Ingen | Dashboard med statistik |
| Generera allt | 5 separata klick | 1 klick |
| Navigation | Tabs mellan typer | Expanderbara sektioner |
| Fokus | Typ-centrerad | Produkt-centrerad |
| Tid att generera | ~5 minuter (manuellt) | ~2 minuter (automatiskt) |

## Framtida FÃ¶rbÃ¤ttringar

Planerade fÃ¶rbÃ¤ttringar fÃ¶r Produktadministration:

- [ ] **Bulk-export** - Exportera all coaching-data fÃ¶r en produkt som JSON/CSV
- [ ] **Kopiera mellan produkter** - Duplicera coaching-data frÃ¥n en produkt till en annan
- [ ] **Templates** - Skapa mallar fÃ¶r vanliga produkttyper
- [ ] **Versionshantering** - Se historik Ã¶ver Ã¤ndringar i coaching-data
- [ ] **Delning** - Dela coaching-data mellan teammedlemmar
- [ ] **Analytics** - Se vilken coaching-data som anvÃ¤nds mest i samtal
- [ ] **AI-fÃ¶rbÃ¤ttringar** - "FÃ¶rbÃ¤ttra befintlig data" knapp som anvÃ¤nder AI fÃ¶r att uppdatera
- [ ] **ProduktjÃ¤mfÃ¶relse** - Side-by-side vy av flera produkter

## FelsÃ¶kning

### Ingen data visas efter generering

**Problem:** Klickade "Generera allt" men ser ingen data.

**LÃ¶sning:**
1. Kontrollera att produkten har uppladdade dokument
2. Ã–ppna browser console (F12) och kolla efter felmeddelanden
3. Verifiera att generering slutfÃ¶rdes (Success-meddelande)
4. StÃ¤ng och Ã¶ppna Produktadministration igen

---

### Fel: "No documents found for this product"

**Problem:** Produkten har inga dokument att generera frÃ¥n.

**LÃ¶sning:**
1. GÃ¥ till RAG Tester eller Knowledge Base Manager
2. Ladda upp dokument fÃ¶r produkten
3. VÃ¤nta tills dokumenten Ã¤r processade (status: 'completed')
4. FÃ¶rsÃ¶k generera igen

---

### Data visas fÃ¶r fel produkt

**Problem:** Ser coaching-data som inte hÃ¶r till vald produkt.

**LÃ¶sning:**
1. Kontrollera att `productId` Ã¤r satt korrekt i coaching-data
2. KÃ¶r SQL i Supabase: `SELECT * FROM triggers WHERE product_id IS NULL;`
3. Data med `product_id = NULL` Ã¤r global och visas inte i produktvyn
4. Uppdatera data med korrekt `product_id`

---

### "Generera allt" stannar pÃ¥ en typ

**Problem:** Genereringen fastnar pÃ¥ t.ex. "Genererar Battlecards..."

**LÃ¶sning:**
1. VÃ¤nta 60 sekunder (AI kan ta tid)
2. Om timeout: Ã–ppna console och se felmeddelande
3. Troliga orsaker:
   - FÃ¶r stora dokument (>3000 tecken trunkeras)
   - OpenAI API-fel (kontrollera API-nyckel)
   - NÃ¤tverksproblem
4. FÃ¶rsÃ¶k igen eller generera typen manuellt i gamla vyn

## Best Practices

### 1. FÃ¶rbered Dokumentation FÃ¶rst
Innan du genererar coaching-data:
- âœ… Ladda upp kvalitativa produktdokument
- âœ… Inkludera bÃ¥de teknisk info och affÃ¤rsnytta
- âœ… LÃ¤gg till konkurrentjÃ¤mfÃ¶relser om mÃ¶jligt
- âœ… VÃ¤nta tills alla dokument Ã¤r processade

### 2. Granska Genererat InnehÃ¥ll
Efter generering:
- âœ… Expandera varje sektion
- âœ… LÃ¤s igenom nÃ¥gra exempel
- âœ… Redigera om nÃ¥got Ã¤r felaktigt
- âœ… Radera irrelevant innehÃ¥ll

### 3. Iterera och FÃ¶rbÃ¤ttra
Kontinuerligt arbete:
- ğŸ”„ Uppdatera dokumentation nÃ¤r produkten utvecklas
- ğŸ”„ Regenerera coaching-data vid stora Ã¤ndringar
- ğŸ”„ Samla feedback frÃ¥n sÃ¤ljare om kvalitet
- ğŸ”„ Komplettera med manuellt innehÃ¥ll dÃ¤r AI inte rÃ¤cker

### 4. Organisera per Produkt
Struktur:
- ğŸ“¦ En produkt = Ett tydligt vÃ¤rdeerbjudande
- ğŸ“¦ Separata produkter fÃ¶r olika marknader/segment
- ğŸ“¦ HÃ¥ll produkter uppdaterade och aktiva
- ğŸ“¦ Arkivera gamla produkter istÃ¤llet fÃ¶r att radera

## Kontakt & Support

Vid frÃ¥gor eller problem:
- Ã–ppna GitHub Issue: [b3-sales-coach/issues]
- Email: support@example.com
- Dokumentation: `/AI-GENERERING-COACHING-DATA.md`
